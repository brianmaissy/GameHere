<html>
    <head>
        <title>Snake Controller</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="apple-mobile-web-app-capable" content="yes" /> 
        <link rel="stylesheet" type="text/css" href="snake.css" />
        <script src="/jquery-1.7.1.min.js"></script>
        <script src="/socket.io/socket.io.js"></script>
        <script src="touch.js"></script>
        <script type="text/javascript" src="head.min.js"></script>
        <script src="ui.js"></script>
        <script src="snake.js"></script>
        <script src="controller.js"></script>
		
	<script> // When ready...
	window.addEventListener("load",function() {
  		// Set a timeout...
  		setTimeout(function(){
    			// Hide the address bar!
    			window.scrollTo(0, 1);
  		}, 0);
	}); 
	</script>
    </head>
    <body ontouchmove="blockMove()">
        <div id="message">Not Connected</div>
		<div id ="directions">
			<h1>How to Use Your Phone As A Controller</h1>
			<p> Swipe up/down and left/right to change the direction of the snake. </p>
			<p> Tap on item to use. Drag item to box to discard. </p>
		</div>
		
		<div id="inventory"></div>
			
		<div id="drop" class="dropArea"><b>Drop here</b></div>
		
		<script>
		$("#drop").droppable({
		    drop: function( event, ui ) {
		    	//$(ui.draggable).css("background-color", "transparent");
		    	//console.log($(ui.draggable));
		        $(this).css({'border':'#777 dashed 3px','background':'#eee'});
		    },
		    over: function(event, ui) {
				console.log("before:", $(ui.draggable).parent()[0].onmouseup);
		        $(ui.draggable).parent()[0].onmouseup = dropItem;
				console.log("after:", $(ui.draggable).parent()[0].onmouseup);
		        $(this).css({'border':'#a33 dashed 3px','background':'#faa'});
		    },
		    out: function (event, ui){
		    	$(ui.draggable).parent()[0].onmouseup = clickItem;
		        $(this).css({'border':'#777 dashed 3px','background':'#eee'});
		    }
		});

		</script>
		
    </body>
</html>
